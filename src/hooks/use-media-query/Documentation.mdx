import { Canvas, Controls, Meta, Source, Story } from '@storybook/blocks';

import * as allStories from './use-media-query.stories';

<Meta of={allStories} />

# useMediaQuery

`useMediaQuery` subscribes to media queries. It receives a media query as an argument and returns `true` if the given media query matches the current state. The hook relies on `window.matchMedia()` [API](https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia) and will return `false` if the API is not available, unless an initial value is provided in the second argument.

## Usage

### Example

Resize browser window to trigger `window.matchMedia` event:

<Canvas of={allStories.Usage} />

### Code

<Source of={allStories.Usage} />

### Code - Server Side Rendering

During server side rendering the hook will always return `false` as `window.matchMedia` api is not available, if that is not a desired behavior, you can override the initial value:

<Source of={allStories.ServerSideRendering} />

## Parameters

`useMediaQuery` accepts three parameters:

- `query` - a media query string
- `initialValue` - an initial value to return if `window.matchMedia` is not available
- `options` - an object with the following properties:
  - `getInitialValueInEffect` - a boolean indicating whether the initial value should be returned if `window.matchMedia` is not available

## Returns

`useMediaQuery` returns a boolean indicating whether the given media query matches the current state.
