import { Canvas, Controls, Meta, Source, Story } from '@storybook/blocks';

import * as allStories from './use-merged-ref.stories';

<Meta of={allStories} />

# useMergedRef

`useMergedRef` accepts any number of refs and returns a function that should be passed to the `ref` prop. Use this hook when you need to use more than one ref on a single dom node, for example, when you want to use [useClickOutside](/docs/hooks-ui-and-dom-useclickoutside--documentation) and [useFocusTrap](/docs/hooks-ui-and-dom-usefocustrap--documentation) hooks and also get a ref for yourself.

## Usage

### Code

<Source of={allStories.Usage} />

### Code - MergeRefs Function

`useMergedRef` hooks memoizes refs with `useCallback` hook, but in some cases memoizing is not a valid strategy, for example, when you are working with a list of dynamic components React will complain that different number of hooks was called across two renders. To fix that issue, use `mergeRefs` function instead:

<Source of={allStories.MergeRefsFunction} />

mergeRefs works the same way as `useMergedRef`, but does not use hooks internally. Use it only when you cannot use `useMergedRef`. Note that `mergeRefs` will not work correctly with [useFocusTrap](/docs/hooks-ui-and-dom-usefocustrap--documentation) hook, you are required to use `useMergedRef` with it.

## Parameters

`useMergedRef` accepts any number of refs.

## Returns

`useMergedRef` returns a merged ref that should be passed to the `ref` prop.
